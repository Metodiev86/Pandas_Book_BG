#Напишете функция, която приема име на файл и дума като аргументи и връща броя на срещанията на тази дума в файла (без да се case-sensitive).

import re  # Импортираме регулярни изрази, за да можем да търсим думите в текста


def count_word_in_file(filename, word):
    try:
        # Опитваме се да отворим файла в режим 'r' (четене), с кодировка 'utf-8'
        with open(filename, 'r', encoding='utf-8') as file:
            content = file.read()  # Четем целия файл и записваме съдържанието в променливата 'content'
    except FileNotFoundError:
        # Ако файлът не бъде намерен, извеждаме съобщение за грешка и връщаме 0
        print(f"Файлът '{filename}' не беше намерен.")
        return 0
    except Exception as e:
        # Ако възникне друга грешка при отваряне на файла, извеждаме съобщение за грешка и връщаме 0
        print(f"Грешка при четене на файла: {e}")
        return 0

    # Изграждаме регулярния израз за търсене на думата
    # \b е за граница на дума, така че търсим точно цялата дума (не част от друга дума)
    # re.escape() е за да избегнем специални символи в думата
    pattern = r'\b' + re.escape(word) + r'\b'

    # Използваме re.findall(), за да намерим всички срещания на думата в съдържанието на файла,
    # като пренебрегваме големината на буквите с помощта на re.IGNORECASE
    matches = re.findall(pattern, content, flags=re.IGNORECASE)

    # Връщаме броя на намерените срещания
    return len(matches)


# Примерно извикване на функцията, за да проверим колко пъти се среща думата "Python" в my_file.txt
print(count_word_in_file("my_file.txt", "Python"))
